<!-- Feito por Bruno Bagattini Fernandes -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>D&D Encounter Forge</title>
  <link rel="icon" type="image/png" href="faviconDnd.png">
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">

  <style>
    body {
      background: #e6e9db;
      background-size: cover;
      font-family: 'MedievalSharp', cursive;
      color: #2e1a0f;
      margin: 0;
      padding: 40px;
    }

    h2 {
      font-size: 36px;
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 1px 1px 0 #e6d3b3;
    }

    label {
      font-size: 20px;
      margin-top: 20px;
      display: block;
    }

    select, input {
      width: 100%;
      max-width: 400px;
      padding: 10px;
      margin: 8px 0;
      border: 2px solid #5e3b1c;
      border-radius: 10px;
      background-color: #fdf5e6;
      font-size: 18px;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    button {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 20px;
      background-color: #8b0000;
      color: #fffbe6;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s ease;
      box-shadow: 3px 3px 5px rgba(0,0,0,0.3);
    }

    button:hover {
      background-color: #a80000;
    }

    .resultado {
      margin-top: 30px;
      font-size: 18px;
      font-weight: bold;
      background-color: rgba(255, 255, 240, 0.85);
      padding: 15px;
      border: 2px dashed #5e3b1c;
      border-radius: 10px;
      max-width: 600px;
    }
  </style>
</head>
<body>

  <h2>D&D Encounter Forge</h2>

  <label for="Ideia">Ideia Espec√≠fica:</label>
  <select id="Ideia">
    <option value="0">Nenhuma</option>
    <option value="1">Aberra√ß√µes</option>
    <option value="2">Bestas Selvagens</option>
    <option value="3">Ca√ßada ou Fuga</option>
    <option value="4">Conflito Pol√≠tico</option>
    <option value="5">Constructos</option>
    <option value="6">Dem√¥nios</option>
    <option value="7">Drag√µes</option>
    <option value="8">Elementais</option>
    <option value="9">Explora√ß√£o de Ru√≠nas</option>
    <option value="10">Fadas</option>
    <option value="11">Gigantes</option>
    <option value="12">Humanoides</option>
    <option value="13">Intera√ß√£o Social</option>
    <option value="14">M√≠micos e Armadilhas</option>
    <option value="15">Mortos-Vivos</option>
  </select>

  <label for="Ambiente">Ambiente:</label>
  <select id="Ambiente">
    <option value="1">Abismo (Demon√≠aco)</option>
    <option value="2">Aldeia Abandonada</option>
    <option value="3">Arena de Gladiadores</option>
    <option value="4">√Årea Arcana Inst√°vel</option>
    <option value="5">Biblioteca Arcana</option>
    <option value="6">Bosque Encantado</option>
    <option value="7">C√¢nion Escarpado</option>
    <option value="8">Castelo em Ru√≠nas</option>
    <option value="9">Caverna de Cristal</option>
    <option value="10">Cavernas</option>
    <option value="11">Cavernas Submersas</option>
    <option value="12">Cemit√©rio</option>
    <option value="13">Cidade</option>
    <option value="14">Cidade Submersa</option>
    <option value="15">Colmeia de Inseto Gigante</option>
    <option value="16">Cripta</option>
    <option value="17">Deserto</option>
    <option value="18">Dom√≠nio dos Vampiros</option>
    <option value="19">Dungeon Subterr√¢nea</option>
    <option value="20">Fenda Dimensional</option>
    <option value="21">Floresta</option>
    <option value="22">Floresta de Cogumelos Gigantes</option>
    <option value="23">Floresta Sombria</option>
    <option value="24">Ilha Deserta</option>
    <option value="25">Ilha Misteriosa</option>
    <option value="26">Inferno (Baator)</option>
    <option value="27">Laborat√≥rio Alqu√≠mico</option>
    <option value="28">Mar Aberto</option>
    <option value="29">Mercado Interplanar</option>
    <option value="30">Montanha</option>
    <option value="31">Navio Fantasma</option>
    <option value="32">Ninho de Drag√£o</option>
    <option value="33">P√¢ntano</option>
    <option value="34">Pico Congelado</option>
    <option value="35">Plano das Fadas</option>
    <option value="36">Plano Elemental da √Ågua</option>
    <option value="37">Plano Elemental da Terra</option>
    <option value="38">Plano Elemental do Ar</option>
    <option value="39">Plano Elemental do Fogo</option>
    <option value="40">Plano Et√©reo</option>
    <option value="41">Plano Sombrio</option>
    <option value="42">Plan√≠cies</option>
    <option value="43">Porto Pirata</option>
    <option value="44">Ru√≠nas Antigas</option>
    <option value="45">Ru√≠nas Submersas</option>
    <option value="46">Sepulcro Antigo</option>
    <option value="47">Subterr√¢neo Profundo (Underdark)</option>
    <option value="48">Templo Abandonado</option>
    <option value="49">Templo em Ru√≠nas no Deserto</option>
    <option value="50">Templo Subaqu√°tico</option>
    <option value="51">Terras Mortas</option>
    <option value="52">Torre de Mago</option>
    <option value="53">Trilha dos Gigantes</option>
    <option value="54">T√∫neis Abissais</option>
    <option value="55">Tundra Congelada</option>
    <option value="56">Vila Rural</option>
    <option value="57">Vulc√£o Ativo</option>
    <option value="58">Zona Contaminada (Maldi√ß√£o ou Praga)</option>
    <option value="59">Zona de Guerra</option>
  </select>

  <label for="Dificuldade">Dificuldade:</label>
  <select id="Dificuldade">
    <option value="0.25">Muito F√°cil</option>
    <option value="0.5">F√°cil</option>
    <option value="0.75">Levemente Desafiador</option>
    <option value="1">M√©dio</option>
    <option value="1.25">Moderadamente Dif√≠cil</option>
    <option value="1.5">Dif√≠cil</option>
    <option value="1.75">Muito Dif√≠cil</option>
    <option value="2">Mortal</option>
    <option value="2.25">Extremamente Mortal</option>
    <option value="2.5">Quase Imposs√≠vel</option>
    <option value="3">Insanamente Letal</option>
  </select>

  <label for="Roll20">Roll20:</label>
  <input type="number" id="Roll20" placeholder="Digite um n√∫mero de 1 a 20">

  <label for="LvlJogador">Level dos Jogadores:</label>
  <input type="number" id="LvlJogador" placeholder="Digite o level m√©dio">

  <button onclick="salvarDados()">Salvar</button>

  <div class="resultado" id="resultado"></div>

  <script src="main.js"></script>
  <script>
    function salvarDados() {
      const ideia = document.getElementById("Ideia");
      const ambiente = document.getElementById("Ambiente");
      const dificuldade = parseFloat(document.getElementById("Dificuldade").value);
      const roll20 = parseInt(document.getElementById("Roll20").value);
      const lvlJogador = parseInt(document.getElementById("LvlJogador").value);
  
      const ideiaText = ideia.options[ideia.selectedIndex].text;
      const ambienteText = ambiente.options[ambiente.selectedIndex].text;
  
      let interpretacaoRoll, rollFactor;
      if (roll20 === 1) {
        interpretacaoRoll = "üé≤ Fudeu Cr√≠tico";
        rollFactor = 1;
      } else if (roll20 >= 2 && roll20 <= 5) {
        interpretacaoRoll = "‚ö†Ô∏è Fudeu";
        rollFactor = 0.75;
      } else if (roll20 >= 6 && roll20 <= 15) {
        interpretacaoRoll = "üòê Okay";
        rollFactor = 0.0;
      } else if (roll20 >= 16 && roll20 <= 19) {
        interpretacaoRoll = "‚úÖ Boa";
        rollFactor = -0.25;
      } else if (roll20 === 20) {
        interpretacaoRoll = "üôè Am√©m";
        rollFactor = -0.5;
      } else {
        interpretacaoRoll = "‚õî Valor inv√°lido";
        rollFactor = 1;
      }
  
      const dificuldadeFinal = (dificuldade + rollFactor).toFixed(2);
  
      let dificuldadeTexto;
      if (dificuldadeFinal < 0.6) {
        dificuldadeTexto = "üò¥ Muito F√°cil";
      } else if (dificuldadeFinal < 1.2) {
        dificuldadeTexto = "üü¢ Tranquilo";
      } else if (dificuldadeFinal < 1.8) {
        dificuldadeTexto = "üü° Desafiador";
      } else if (dificuldadeFinal < 2.5) {
        dificuldadeTexto = "üî¥ Tenso";
      } else {
        dificuldadeTexto = "üíÄ Mortal";
      }
      
      const variacaoPercentual = Math.random() * 1 - 0.5;
      const grupoReal = Math.round(lvlJogador + (lvlJogador * variacaoPercentual));
  
      const monstros = sugerirMonstros(parseFloat(dificuldadeFinal), ambienteText, lvlJogador, ideiaText);
  
      let resultadoTexto = `
  Ideia: ${ideiaText}
  Ambiente: ${ambienteText}
  Dificuldade Base: ${dificuldade}
  Roll20: ${roll20} ‚Üí ${interpretacaoRoll}
  üí• Dificuldade Final: ${dificuldadeFinal} ‚Üí ${dificuldadeTexto}
      `;
  
      if (monstros.length > 0) {
        resultadoTexto += `\nüëπ Op√ß√µes de Monstro:\n`;
        monstros.forEach((m, i) => {
          const qtd = Math.floor(Math.random() * (m.max - m.min + 1)) + m.min;
          resultadoTexto += `${i + 1}. ${m.nome} (x${qtd})\n`;
        });
      }
      document.getElementById("resultado").innerText = resultadoTexto;
    }
  </script>
  
</body>
</html>